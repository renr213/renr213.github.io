{
  "hash": "322f8b2c397ca7bc506047beee57d14d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 09: Opinion articles in The Chronicle\"\nsubtitle: \"Suggested answers\"\ncategories: \n  - Application exercise\n  - Answers\n---\n\n\n::: callout-important\nThese are suggested answers.\nThis document should be used as reference only, it's not designed to be an exhaustive key.\n:::\n\n## Part 1 - Data scraping\n\nSee [`chronicle-scrape.R`](https://github.com/sta199-f22-1/sta199-f22-1.github.io/blob/main/ae/_chronicle-scrape-A.R) for suggested scraping code.\n\n## Part 2 - Data analysis\n\nLet's start by loading the packages we will need:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n-   **Your turn (1 minute):** Load the data you saved into the `data` folder and name it `chronicle`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchronicle <- read_csv(\"data/chronicle.csv\")\n```\n:::\n\n\n-   **Your turn (3 minutes):** Who are the most prolific authors of the 100 most recent opinion articles in The Chronicle?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchronicle |>\n  count(author, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 204 × 2\n   author                        n\n   <chr>                     <int>\n 1 Luke A. Powery               30\n 2 Heidi Smith                  27\n 3 Advikaa Anand                22\n 4 Monday Monday                17\n 5 Monika Narain                16\n 6 Community Editorial Board    12\n 7 Linda Cao                    12\n 8 Sonia Green                  12\n 9 Valerie Tan                  11\n10 Nathan Luzum                 10\n# ℹ 194 more rows\n```\n\n\n:::\n:::\n\n\n-   **Demo:** Draw a line plot of the number of opinion articles published per day in The Chronicle.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchronicle |>\n  count(date) |>\n  ggplot(aes(x = date, y = n, group = 1)) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](ae-09-chronicle-scrape-A_files/figure-html/articles-per-day-1.png){width=672}\n:::\n:::\n\n\n-   **Demo:** What percent of the most recent 100 opinion articles in The Chronicle mention \"climate\" in their title?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchronicle |>\n  mutate(\n    title = str_to_lower(title),\n    climate = if_else(str_detect(title, \"climate\"), \"mentioned\", \"not mentioned\")\n    ) |>\n  count(climate) |>\n  mutate(prop = n / sum(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 3\n  climate           n  prop\n  <chr>         <int> <dbl>\n1 mentioned        10  0.02\n2 not mentioned   490  0.98\n```\n\n\n:::\n:::\n\n\n-   **Your turn (5 minutes):** What percent of the most recent 100 opinion articles in The Chronicle mention \"climate\" in their title or abstract?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchronicle |>\n  mutate(\n    title = str_to_lower(title),\n    abstract = str_to_lower(abstract),\n    climate = if_else(\n      str_detect(title, \"climate\") | str_detect(abstract, \"climate\"), \n      \"mentioned\", \n      \"not mentioned\"\n      )\n    ) |>\n  count(climate) |>\n  mutate(prop = n / sum(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  climate           n  prop\n  <chr>         <int> <dbl>\n1 mentioned        14 0.028\n2 not mentioned   482 0.964\n3 <NA>              4 0.008\n```\n\n\n:::\n:::\n\n\n-   **Time permitting:** Come up with another question and try to answer it using the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add code here\n```\n:::\n\n\n-   Time permitting:\n",
    "supporting": [
      "ae-09-chronicle-scrape-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
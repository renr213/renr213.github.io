{
  "hash": "c7cd64804e466a46f9ed25bdefd6cc78",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data visualization overview\"\nsubtitle: \"Lecture 4\"\ndate: last-modified\ndate-format: long\nformat: \n  revealjs:\n    footer: \"[ðŸ”— renr213.github.io](https://renr213.github.io/)\"\n---\n\n::: {.cell}\n\n:::\n\n\n\n## Packages\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(tidyverse)\nlibrary(ggthemes)\n```\n:::\n\n\n\n## Bivariate analysis {.smaller}\n\n:::::: panel-tabset\n## Plot\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/penguins-box-1.png){width=480}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/penguins-density-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Code\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Side-by-side box plots\nggplot(penguins, aes(x = body_mass_g, y = species, fill = species)) +\n  geom_boxplot(alpha = 0.5, show.legend = FALSE) +\n  scale_fill_colorblind() +\n  labs(\n    x = \"Body mass (grams)\", y = \"Species\",\n    title = \"Side-by-side box plots\"\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Density plots\nggplot(penguins, aes(x = body_mass_g, fill = species)) +\n  geom_density(alpha = 0.5) +\n  theme(legend.position = \"bottom\") +\n  scale_fill_colorblind() +\n  labs(\n    x = \"Body mass (grams)\", y = \"Density\",\n    fill = \"Species\", title = \"Density plots\"\n  )\n```\n:::\n\n\n::::::\n\n## Violin plots\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|4|5|8\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g\n    )\n  ) +\n  geom_violin()\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-8-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Multiple geoms\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"9\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g\n    )\n  ) +\n  geom_violin() +\n  geom_point()\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-10-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Multiple geoms\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"9\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g\n    )\n  ) +\n  geom_violin() +\n  geom_jitter()\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-12-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Multiple geoms + aesthetics\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5-6\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g,\n    color = species\n    )\n  ) +\n  geom_violin() +\n  geom_jitter()\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-14-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Multiple geoms + aesthetics\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"11-13\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g,\n    color = species\n    )\n  ) +\n  geom_violin() +\n  geom_jitter() +\n  theme(\n    legend.position = \"none\"\n  )\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-16-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n## Multiple geoms + aesthetics {.smaller}\n\n::::: columns\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"14\"}\nggplot(\n  penguins,\n  aes(\n    x = species,\n    y = body_mass_g,\n    color = species\n    )\n  ) +\n  geom_violin() +\n  geom_jitter() +\n  theme(\n    legend.position = \"none\"\n  ) +\n  scale_color_colorblind()\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/unnamed-chunk-18-1.png){width=480}\n:::\n:::\n\n\n:::\n:::::\n\n# Multivariate analysis\n\n## Bechdel {.smaller}\n\nLoad the Bechdel test data with `read_csv()`:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel <- read_csv(\"data/bechdel.csv\")\n```\n:::\n\n\n\n. . .\n\n<br>\n\nView the column `names()` of the `bechdel` data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(bechdel)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"title\"       \"year\"        \"gross_2013\"  \"budget_2013\" \"roi\"         \"binary\"     \n[7] \"clean_test\" \n```\n\n\n:::\n:::\n\n\n\n## ROI by test result {.smaller}\n\n::: question\nWhat about this plot makes it difficult to evaluate how ROI varies by Bechdel test result?\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, aes(x = roi, y = clean_test, color = binary)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/roi-test-binary-box-1.png){width=768}\n:::\n:::\n\n\n\n## Movies with high ROI {.smaller}\n\n::: question\nWhat are the movies with highest ROI?\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbechdel |>\n  filter(roi > 400) |>\n  select(title, roi, budget_2013, gross_2013, year, clean_test)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 Ã— 6\n  title                     roi budget_2013 gross_2013  year clean_test\n  <chr>                   <dbl>       <dbl>      <dbl> <dbl> <chr>     \n1 Paranormal Activity      671.      505595  339424558  2007 dubious   \n2 The Blair Witch Project  648.      839077  543776715  1999 ok        \n3 El Mariachi              583.       11622    6778946  1992 nowomen   \n```\n\n\n:::\n:::\n\n\n\n## ROI by test result {.smaller}\n\n::: question\n**Zoom in:** What about this plot makes it difficult to evaluate how ROI varies by Bechdel test result?\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|3\"}\nggplot(bechdel, aes(x = roi, y = clean_test, color = binary)) +\n  geom_boxplot() +\n  coord_cartesian(xlim = c(0, 15))\n```\n\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/roi-test-binary-box-zoom-1.png){width=768}\n:::\n:::\n\n\n\n## Sneak preview...\n\n<br> <br>\n\n::: hand\nof data wrangling pipelines...\n:::\n\n## Median ROI\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2\"}\nbechdel |>\n  summarize(median_roi = median(roi, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 1\n  median_roi\n       <dbl>\n1       3.91\n```\n\n\n:::\n:::\n\n\n\n## Median ROI by test result\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|2|3\"}\nbechdel |>\n  group_by(clean_test) |>\n  summarize(median_roi = median(roi, na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 Ã— 2\n  clean_test median_roi\n  <chr>           <dbl>\n1 dubious          3.80\n2 men              3.96\n3 notalk           3.69\n4 nowomen          3.27\n5 ok               4.21\n```\n\n\n:::\n:::\n\n\n\n## ROI by test result â€“ zoom in {.smaller}\n\n::: question\nWhat does this plot say about return-on-investment on movies that pass the Bechdel test?\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(bechdel, aes(x = roi, y = clean_test, color = binary)) +\n  geom_boxplot() +\n  coord_cartesian(xlim = c(0, 15)) +\n  geom_vline(xintercept = 4.21, linetype = \"dashed\")\n```\n\n::: {.cell-output-display}\n![](04-dataviz-overview_files/figure-revealjs/roi-test-binary-box-zoom-vline-1.png){width=864}\n:::\n:::\n\n\n\n# Application exercise\n\n## `ae-03-duke-forest` {.smaller}\n",
    "supporting": [
      "04-dataviz-overview_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
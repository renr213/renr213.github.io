{
  "hash": "bc1795c5984a12bb94574d0a506540a6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tidying data\"\nsubtitle: \"Lecture 6\"\ndate: last-modified\ndate-format: long\nformat: \n  revealjs:\n    footer: \"[ðŸ”— renr213.github.io](https://renr213.github.io/)\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n## Recap: pipe {.smaller}\n\n-   The pipe operator passes what comes before it into the function that comes after it as the first argument in that function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(1, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n\n```{.r .cell-code}\n1 |> \n  sum(2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n\n\n-   Always use a line break after the pipe, and indent the next line of code.\n    -   Just like always use a line break between layers of ggplots, after `+`, and indent the next line.\n\n## Recap: logical operators {.smaller}\n\n| operator | definition                   |\n|:---------|:-----------------------------|\n| `<`      | is less than?                |\n| `<=`     | is less than or equal to?    |\n| `>`      | is greater than?             |\n| `>=`     | is greater than or equal to? |\n| `==`     | is exactly equal to?         |\n| `!=`     | is not equal to?             |\n\n## Recap: logical operators {.smaller}\n\n| operator      | definition                                               |\n|:--------------|:---------------------------------------------------------|\n| `x & y`       | is x AND y?                                              |\n| `x \\| y`      | is x OR y?                                               |\n| `is.na(x)`    | is x NA?                                                 |\n| `!is.na(x)`   | is x not NA?                                             |\n| `x %in% y`    | is x in y?                                               |\n| `!(x %in% y)` | is x not in y?                                           |\n| `!x`          | is not x? (only makes sense if `x` is `TRUE` or `FALSE`) |\n\n# Data tidying\n\n## Tidy data\n\n> \"Tidy datasets are easy to manipulate, model and visualise, and have a specific structure: each variable is a column, each observation is a row, and each type of observational unit is a table.\"\n\nTidy Data, <https://vita.had.co.nz/papers/tidy-data.pdf>\n\n. . .\n\n**Note:** \"easy to manipulate\" = \"straightforward to manipulate\"\n\n## Goal\n\nVisualize StatSci majors over the years!\n\n![](images/statsci-plot.png)\n\n## Data {.smaller}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstatsci <- read_csv(\"../data/statsci.csv\")\nstatsci\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 Ã— 14\n  degree      `2011` `2012` `2013` `2014` `2015` `2016` `2017` `2018` `2019` `2020` `2021`\n  <chr>        <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Statisticaâ€¦     NA      1     NA     NA      4      4      1     NA     NA      1      2\n2 Statisticaâ€¦      2      2      4      1      3      6      3      4      4      1     NA\n3 Statisticaâ€¦      2      6      1     NA      5      6      6      8      8     17     16\n4 Statisticaâ€¦      5      9      4     13     10     17     24     21     26     27     35\n# â„¹ 2 more variables: `2022` <dbl>, `2023` <dbl>\n```\n\n\n:::\n:::\n\n\n\n. . .\n\n-   The first column (variable) is the `degree`, and there are 4 possible degrees: BS (Bachelor of Science), BS2 (Bachelor of Science, 2nd major), AB (Bachelor of Arts), AB2 (Bachelor of Arts, 2nd major).\n\n-   The remaining columns show the number of students graduating with that major in a given academic year from 2011 to 2023.\n\n## Let's plan! {.smaller}\n\n::: question\nTake a look at the plot we aim to make and sketch the data frame we need to make the plot. Determine what each row and each column of the data frame should be. *Hint:* We need data to be in columns to map to `aes`thetic elements of the plot.\n:::\n\n# Application exercise\n\n## `ae-05-majors-tidying`\n\n::: appex\n-  Accept the invitation to the application exercise.\n-  Create a new project in RStudio from the GitHub repository\n-   Open the `.qmd` file and render it.\n:::\n\n## Recap: pivoting {.smaller}\n\n::: incremental\n-   Data sets can't be labeled as *wide* or *long* but they can be made *wider* or *longer* for a certain analysis that requires a certain format\n-   When pivoting longer, variable names that turn into values are characters by default. If you need them to be in another format, you need to explicitly make that transformation, which you can do so within the `pivot_longer()` function.\n-   You can tweak a plot forever, but at some point the tweaks are likely not very productive. However, you should always be critical of defaults (however pretty they might be) and see if you can improve the plot to better portray your data / results / what you want to communicate.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}